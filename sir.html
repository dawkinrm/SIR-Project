<!DOCTYPE html>
<html>

<head>
	<title>SIR Model</title>
</head>

<body>
	<center>SIR Model Output</center>

	<script type="text/javascript">
	function sirModel()
	{
		var infectRate = 0.5;
		var removalRate = 0.3;

		var S = 50;	
		var I = 1;
		var R = 0;

		var N = Math.round(S + I + R);

		var sList = [];
		var iList = [];
		var rList = [];

		var x = document.getElementById("slist");
		var y = document.getElementById("ilist");
		var z = document.getElementById("rlist");

		var cure = false;

		while(!cure && S !== 0)
		{
			var newInfected = 0;

			for(var i=0; i<S; i++)
			{
				if(Math.random() < infectRate*(I/N))
					newInfected++;
			}

			var recovered = 0;

			for(var i=0; i<I; i++)
			{
				if(Math.random() < removalRate)
					recovered++;
			}

			S -= newInfected;
			I += (newInfected - recovered);

			if(I === 0)
			{
				I = 1;
				recovered -= 1;
			}

			R += recovered;

			sList.push(S);
			iList.push(I);
			rList.push(R);

			sList.toString();
			iList.toString();
			rList.toString();

			x.innerHTML = sList.slice(0,50);
			y.innerHTML = iList.slice(0,50);
			z.innerHTML = rList.slice(0,50);
		}

		/*for(var i=0;i<sList.length;i++)
		{
			document.write(sList[i] + "<br>");
			document.write(iList[i] + "<br>");
			document.write(rList[i] + "<br>");
		}*/

		//document.write(sList.slice(0,50) + "\n");
		//document.write(iList.slice(0,50) + "\n");
		//document.write(rList.slice(0,50) + "\n");
	}
	</script>
	
	<div>
		<p id="slist">sList</p>
	</div>

	<div>
		<p id="ilist">iList</p>
	</div>

	<div>
		<p id="rlist">rList</p>
	</div>

	<button onclick="sirModel()">Click to initiate SIR model</button>

</body>

</html>